import java.awt.*;
import javax.swing.*;
import javax.swing.border.*;
import java.awt.event.*;

public class Answer3 extends JFrame{

	String clickButton = "“ü—Í‘Ò‚¿";
	private JLabel[] lb = new JLabel[3];
	private JPanel[] pn = new JPanel[3];
	private JButton[] bt = new JButton[10];
	private JButton[] bt1= new JButton[4];

		int flag = 0;
		int sum = 0;
		int num = 0;
		int op = 0;
	String strnum = "";

	public static void main(String[] args){
		Answer3 sm = new Answer3();
	}
	public Answer3(){
		lb[0] = new JLabel("‘I‘ð‚µ‚½‚Ì‚Í");
		lb[1] = new JLabel(clickButton);
		lb[2] = new JLabel("‚Å‚·");

		lb[1].setFont(new Font("Helvetica",Font.BOLD,20));
		lb[1].setBorder(new EtchedBorder());

		pn[0] = new JPanel();
		pn[1] = new JPanel();
		pn[2] = new JPanel();

		for (int i=0;i<bt.length;i++){
			bt[i] = new JButton(Integer.toString(i));
		}

		bt1[0] = new JButton("+");
		bt1[1] = new JButton("-");
		bt1[2] = new JButton("=");
		bt1[3] = new JButton("AC");		

		lb[0].setHorizontalAlignment(JLabel.RIGHT );
		lb[1].setHorizontalAlignment(JLabel.CENTER );
		lb[2].setHorizontalAlignment(JLabel.LEFT );
		
		lb[0].setVerticalAlignment(JLabel.CENTER );
		lb[1].setVerticalAlignment(JLabel.CENTER );
		lb[2].setVerticalAlignment(JLabel.CENTER );

		//		bt1[0].setHorizontalAlignment(bt[0].RIGHT);
		//		bt1[1].setHorizontalAlignment(bt[1].LEFT);		

		bt1[0].setVerticalAlignment(bt[0].TOP);
		bt1[1].setVerticalAlignment(bt[1].TOP);



		setLayout(new GridLayout(3,1));
		pn[0].setLayout(new GridLayout(1,3));
		pn[1].setLayout(new FlowLayout());
		pn[2].setLayout(new GridLayout(3,3));


		for (int i=0;i<lb.length;i++){
			pn[0].add(lb[i]);
		}
		for (int i=0;i<bt1.length;i++){
			pn[1].add(bt1[i]);
		}
		for (int i=0;i<bt.length;i++){
			pn[2].add(bt[i]);
		}
		for (int i=0;i<pn.length;i++){
			add(pn[i]);
		}
		for (int i=0;i<bt1.length;i++){
		bt1[i].addActionListener(new Sample5ActionListener());
		}

		for (int i=0;i<bt.length;i++){
			bt[i].addActionListener(new Sample5ActionListener());
		}
	}

    class Answer3ActionListener 
		implements 
			ActionListener
	{
		public void actionPerformed(ActionEvent e){

			if (e.getActionCommand() == "+"){
				op = 0;
				flag = 1;
				lb[1].setText("+");
				num = Integer.valueOf(strnum);
				strnum = "";
			}else if (e.getActionCommand() == "-"){
				op = 1;
				flag = 1;
				lb[1].setText("-");
				num = Integer.valueOf(strnum);
				strnum = "";

			}else if (e.getActionCommand() == "="){

				switch (op){
				case 0:sum = num + Integer.valueOf(strnum);break;
				case 1:sum = num - Integer.valueOf(strnum);break;
				}
				lb[0].setText("ŒvŽZŒ‹‰Ê‚Í");
				lb[1].setText(sum+"");

			}else if(e.getActionCommand() == "AC"){
				num = 0;
				op = 0;
				strnum = "0";
				lb[1].setText(strnum);
			}else {
				if (strnum == "0"){
					strnum = e.getActionCommand();
				}else{
				strnum += e.getActionCommand();
				}
				lb[1].setText(strnum);
			}

			repaint();
		}
	}
}
